# Railway Configuration for eligibility-engine
# Phase 5: Deployment (Moykle)

[build]
builder = "DOCKERFILE"
dockerfilePath = "./Dockerfile"

[deploy]
healthcheckPath = "/healthz"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
# Run migrations before starting the service
# This ensures the database schema is up-to-date before the app starts
startCommand = "sh -c 'npm run migrate:up && npm start'"
